apiVersion : apps/v1
kind : Deployment 
metadata : 
  name : postgres 
  labels : 
    app: devops-project 
spec : 
  selector : 
    matchLabels : 
      app : django-postgres  
      tier : postgres 
  strategy : 
    type : Recreate 
  template : 
    metadata : 
      labels : 
        app : django 
          tier : postgres
    spec : 
      containers : 
        - image : postgres:15 
          name : postgres
          ports : 
            - containerPorts : 5432 
              name : postgres 
          env : 
            - name : POSTGRES_DB 
              value : db 
            - name : POSTGRES_USER 
              value : root 
            - name : POSTGRES_PASSWORD 
              valueFrom : 
                secretKeyRef : 
                  name : db-password 
                  key : password  